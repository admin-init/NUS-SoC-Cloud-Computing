(function(){"use strict";var e={9116:function(e,a,t){var l=t(5130),r=t(6768),o=(t(4114),t(4232)),n=t(144),s="data:image/png;base64,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",i=t(1387),u=(t(8111),t(116),t(3579),t(1219));const d=(0,n.KR)(null),c=(0,n.KR)(null),g=()=>{const e=localStorage.getItem("user"),a=localStorage.getItem("token");if(e)try{d.value=JSON.parse(e)}catch(t){console.error("解析用户信息失败:",t),localStorage.removeItem("user")}a&&(c.value=a)},p=(e,a)=>{const t=JSON.parse(localStorage.getItem("userList")||"[]"),l=t.find(a=>a.idCard===e.idCard);return l?l.password!==e.password||l.name!==e.name?(u.nk.error("Incorrect information."),!1):(console.log("登录成功:",e),d.value=e,c.value=a,localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("token",a),!0):(u.nk.error("ID card not found. Please register first."),!1)},m=()=>{d.value=null,c.value=null,console.log("用户已登出"),localStorage.removeItem("user"),localStorage.removeItem("token")},k=e=>{if(console.log("注册用户:",e),!e.idCard||!e.name||!e.password)return u.nk.error("Please fill in all fields."),!1;if(!/^\d{10}$/.test(e.idCard))return u.nk.error("ID card number must be exactly 10 digits."),!1;if(e.password.length<6||e.password.length>20)return u.nk.error("Password length must be between 6 and 20 characters."),!1;if(!/^[a-zA-Z0-9]+$/.test(e.password))return u.nk.error("Password can only contain letters and numbers."),!1;if(!/[a-zA-Z]/.test(e.password)||!/[0-9]/.test(e.password))return u.nk.error("Password must contain both letters and numbers."),!1;const a=JSON.parse(localStorage.getItem("userList")||"[]"),t=a.find(a=>a.idCard===e.idCard);if(t)return u.nk.error("This ID card number is already registered."),!1;const l={idCard:e.idCard,name:e.name,password:e.password,registeredAt:(new Date).toISOString()};return a.push(l),localStorage.setItem("userList",JSON.stringify(a)),!0},f=(0,r.EW)(()=>!!d.value&&!!c.value);g();var b={__name:"WebHead",setup(e,{expose:a}){const t=(0,i.rd)(),l=(0,i.lq)();let u=(0,n.KR)("home");const d=e=>{"my"===e?f.value?(u.value="my",t.push({name:"my"})):(u.value="login",t.push({name:"login"})):(u.value=e,t.push({name:e}))},c=()=>{const e=l.name;e&&(u.value="login"===e?"login":e)},g=()=>{console.log("搜索功能待实现")};return(0,r.wB)(()=>l.name,()=>{c()},{immediate:!0}),(0,r.wB)(f,e=>{e&&"login"===l.name&&t.push({name:"my"})}),(0,r.sV)(()=>{c()}),a({setActiveNav:e=>{u.value=e}}),(e,a)=>{const t=(0,r.g2)("el-col"),l=(0,r.g2)("el-input"),i=(0,r.g2)("el-form-item"),c=(0,r.g2)("el-button"),p=(0,r.g2)("el-form"),m=(0,r.g2)("el-row");return(0,r.uX)(),(0,r.Wv)(m,{class:"makerogether"},{default:(0,r.k6)(()=>[(0,r.bF)(t,{span:.8},{default:(0,r.k6)(()=>a[3]||(a[3]=[(0,r.Lk)("img",{src:s,id:"headicon"},null,-1)])),_:1,__:[3]}),(0,r.bF)(t,{span:5,id:"headtitle"},{default:(0,r.k6)(()=>a[4]||(a[4]=[(0,r.eW)("Rail Ticket Web")])),_:1,__:[4]}),(0,r.bF)(t,{span:2,offset:1},{default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:(0,o.C4)(["navi",{"navi-active":"home"===(0,n.R1)(u)}]),onClick:a[0]||(a[0]=e=>d("home"))},"Home",2)]),_:1}),(0,r.bF)(t,{span:2},{default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:(0,o.C4)(["navi",{"navi-active":"ticket"===(0,n.R1)(u)}]),onClick:a[1]||(a[1]=e=>d("ticket"))},"Ticket",2)]),_:1}),(0,r.bF)(t,{span:2},{default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:(0,o.C4)(["navi",{"navi-active":"my"===(0,n.R1)(u)||"login"===(0,n.R1)(u)}]),onClick:a[2]||(a[2]=e=>d("my"))},"My",2)]),_:1}),(0,r.bF)(t,{span:8,offset:2,class:"search-form"},{default:(0,r.k6)(()=>[(0,r.bF)(p,{class:""},{default:(0,r.k6)(()=>[(0,r.bF)(i,null,{default:(0,r.k6)(()=>[(0,r.bF)(l,{placeholder:"This search box is fake."})]),_:1}),(0,r.bF)(c,{type:"primary",onClick:g},{default:(0,r.k6)(()=>a[5]||(a[5]=[(0,r.eW)("Search")])),_:1,__:[5]})]),_:1})]),_:1})]),_:1})}}},v=t(1241);const h=(0,v.A)(b,[["__scopeId","data-v-4433f4d2"]]);var S=h,I={__name:"App",setup(e){return(e,a)=>{const t=(0,r.g2)("el-header"),l=(0,r.g2)("router-view"),o=(0,r.g2)("el-container");return(0,r.uX)(),(0,r.Wv)(o,{class:"app-container"},{default:(0,r.k6)(()=>[(0,r.bF)(t,{class:"webhead"},{default:(0,r.k6)(()=>[(0,r.bF)(S)]),_:1}),(0,r.bF)(l)]),_:1})}}};const y=I;var F=y,R=t(7854),w=(t(4188),t(7477)),E=t(4373);const A=E.A.create({baseURL:"",timeout:1e4,headers:{"Content-Type":"application/json"}});A.interceptors.request.use(e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization=`Bearer ${a}`),e},e=>Promise.reject(e)),A.interceptors.response.use(e=>e.data,e=>{const a=e.response?.data?.message||"Request failed";return u.nk.error(a),Promise.reject(e)});var P=A;const D={searchTickets(e){return console.log("Searching tickets with params:",e),P.get(`http://localhost:50080/opt/schedules/search?departureTime=${e.date}&endStationId=${e.stopPos}&startStationId=${e.startPos}`)},bookTicket(e){return P.post(`http://localhost:50081/orders/1/create?ticketId=${e.ticketId}`,e)}};var _={__name:"HomePageForm",setup(e){const a=(0,i.rd)(),t=(0,n.KR)(!1),l=(0,n.Kh)({startPos:"",stopPos:"",date:""}),s=async()=>{if(l.startPos&&l.stopPos&&l.date)if(l.startPos!==l.stopPos){t.value=!0;try{let e=await D.searchTickets({startPos:l.startPos,stopPos:l.stopPos,date:l.date.getFullYear()+"-"+(l.date.getMonth()+1<10?"0":"")+(l.date.getMonth()+1)+"-"+(l.date.getDate()<10?"0":"")+l.date.getDate()});for(let a=0;a<e.length;a++)e[a].departureTime=e[a].departureTime.slice(0,10)+" "+e[a].departureTime.slice(11,16),e[a].arrivalTime=e[a].arrivalTime.slice(0,10)+" "+e[a].arrivalTime.slice(11,16);console.log("搜索到的车票:",e.data),sessionStorage.setItem("searchResults",JSON.stringify(e.data||e)),a.push({name:"ticket",query:{startPos:l.startPos,stopPos:l.stopPos,date:l.date.getFullYear()+"-"+(l.date.getMonth()+1<10?"0":"")+(l.date.getMonth()+1)+"-"+(l.date.getDate()<10?"0":"")+l.date.getDate()}})}catch(e){console.error("搜索车票失败:",e.response||e.message),u.nk.error("Search failed, please try again later.")}finally{t.value=!1}}else u.nk.warning("Departure and arrival locations cannot be the same.");else u.nk.warning("Please fill in all fields.")};return(e,a)=>{const i=(0,r.g2)("el-icon"),u=(0,r.g2)("el-col"),d=(0,r.g2)("el-row"),c=(0,r.g2)("el-header"),g=(0,r.g2)("el-option"),p=(0,r.g2)("el-select"),m=(0,r.g2)("el-form-item"),k=(0,r.g2)("el-date-picker"),f=(0,r.g2)("el-button"),b=(0,r.g2)("el-form"),v=(0,r.g2)("el-main"),h=(0,r.g2)("el-container");return(0,r.uX)(),(0,r.Wv)(h,{class:"main-page-form"},{default:(0,r.k6)(()=>[(0,r.bF)(c,{class:"main-page-form-header"},{default:(0,r.k6)(()=>[(0,r.bF)(d,null,{default:(0,r.k6)(()=>[(0,r.bF)(u,{span:3,offset:5},{default:(0,r.k6)(()=>[(0,r.bF)(i,{class:"ticket-icon"},{default:(0,r.k6)(()=>[(0,r.bF)((0,n.R1)(w.Tickets))]),_:1})]),_:1}),(0,r.bF)(u,{span:14,class:"ticket-title"},{default:(0,r.k6)(()=>a[3]||(a[3]=[(0,r.eW)("Ticket Inquiry")])),_:1,__:[3]})]),_:1})]),_:1}),(0,r.bF)(v,null,{default:(0,r.k6)(()=>[(0,r.bF)(b,null,{default:(0,r.k6)(()=>[(0,r.bF)(m,{label:"Departure Zone:"},{default:(0,r.k6)(()=>[(0,r.bF)(p,{modelValue:l.startPos,"onUpdate:modelValue":a[0]||(a[0]=e=>l.startPos=e),placeholder:"Select Departure Station"},{default:(0,r.k6)(()=>[(0,r.bF)(g,{label:"Beijing Railway Station",value:"1"}),(0,r.bF)(g,{label:"Beijing West Railway Station",value:"2"}),(0,r.bF)(g,{label:"Shanghai Railway Station",value:"3"}),(0,r.bF)(g,{label:"Shanghai Hongqiao Railway Station",value:"4"}),(0,r.bF)(g,{label:"Guangzhou Railway Station",value:"5"}),(0,r.bF)(g,{label:"Guangzhou South Railway Station",value:"6"})]),_:1},8,["modelValue"])]),_:1}),(0,r.bF)(m,{label:"Arrival Zone:"},{default:(0,r.k6)(()=>[(0,r.bF)(p,{modelValue:l.stopPos,"onUpdate:modelValue":a[1]||(a[1]=e=>l.stopPos=e),placeholder:"Select Arrival Station"},{default:(0,r.k6)(()=>[(0,r.bF)(g,{label:"Beijing Railway Station",value:"1"}),(0,r.bF)(g,{label:"Beijing West Railway Station",value:"2"}),(0,r.bF)(g,{label:"Shanghai Railway Station",value:"3"}),(0,r.bF)(g,{label:"Shanghai Hongqiao Railway Station",value:"4"}),(0,r.bF)(g,{label:"Guangzhou Railway Station",value:"5"}),(0,r.bF)(g,{label:"Guangzhou South Railway Station",value:"6"})]),_:1},8,["modelValue"])]),_:1}),(0,r.bF)(m,{label:"Departure Date:"},{default:(0,r.k6)(()=>[(0,r.bF)(k,{modelValue:l.date,"onUpdate:modelValue":a[2]||(a[2]=e=>l.date=e),type:"date",placeholder:"Select Departure Date",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),(0,r.bF)(m,null,{default:(0,r.k6)(()=>[(0,r.bF)(u,{span:12,offset:10,style:{height:"30px"}},{default:(0,r.k6)(()=>[(0,r.bF)(f,{type:"primary",onClick:s,loading:t.value},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(t.value?"Searching...":"Inquiry"),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};const C=(0,v.A)(_,[["__scopeId","data-v-5322a659"]]);var U=C;const V={class:"carousel-container"};var O={__name:"HomePageCarousel",setup(e){return(e,a)=>((0,r.uX)(),(0,r.CE)("div",V,[a[0]||(a[0]=(0,r.Lk)("img",{src:"image/DM1.jpg",class:"myimage",alt:"background image"},null,-1)),(0,r.bF)(U,{class:"main-page-form"})]))}};const Q=(0,v.A)(O,[["__scopeId","data-v-9c44a63a"]]);var J=Q,N={__name:"HomePage",setup(e){const a=(0,n.KR)();return(0,r.sV)(()=>{a.value?.setActiveNav("home")}),(e,a)=>{const t=(0,r.g2)("el-main");return(0,r.uX)(),(0,r.Wv)(t,{class:"main-container"},{default:(0,r.k6)(()=>[(0,r.bF)(J)]),_:1})}}};const T=(0,v.A)(N,[["__scopeId","data-v-49535f4a"]]);var B=T,K={__name:"TicketPageSelectFir",emits:["search-results"],setup(e,{emit:a}){const t=(0,i.lq)(),l=(0,n.KR)(!1),s=a,d=(0,n.Kh)({startPos:"",stopPos:"",date:""});function c(e){return"string"===typeof e||e instanceof String}(0,r.sV)(()=>{t.query.startPos&&(d.startPos=t.query.startPos),t.query.stopPos&&(d.stopPos=t.query.stopPos),t.query.date&&(d.date=t.query.date)});const g=async()=>{if(d.startPos&&d.stopPos&&d.date)if(d.startPos!==d.stopPos){l.value=!0;try{const e=await D.searchTickets({startPos:d.startPos,stopPos:d.stopPos,date:c(d.date)?d.date:d.date.getFullYear()+"-"+(d.date.getMonth()+1<10?"0":"")+(d.date.getMonth()+1)+"-"+(d.date.getDate()<10?"0":"")+d.date.getDate()});for(let a=0;a<e.length;a++)e[a].departureTime=e[a].departureTime.slice(0,10)+" "+e[a].departureTime.slice(11,16),e[a].arrivalTime=e[a].arrivalTime.slice(0,10)+" "+e[a].arrivalTime.slice(11,16);console.log("搜索结果:",e),s("search-results",e)}catch(e){console.error("搜索失败:",e),u.nk.error("Search failed, please try again later."),s("search-results",[])}finally{l.value=!1}}else u.nk.warning("Departure and arrival locations cannot be the same.");else u.nk.warning("Please fill in all fields.")};return(e,a)=>{const t=(0,r.g2)("el-option"),n=(0,r.g2)("el-select"),s=(0,r.g2)("el-form-item"),i=(0,r.g2)("el-col"),u=(0,r.g2)("el-date-picker"),c=(0,r.g2)("el-button"),p=(0,r.g2)("el-row"),m=(0,r.g2)("el-form"),k=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.Wv)(k,{class:"card"},{default:(0,r.k6)(()=>[(0,r.bF)(m,null,{default:(0,r.k6)(()=>[(0,r.bF)(p,null,{default:(0,r.k6)(()=>[(0,r.bF)(i,{span:6},{default:(0,r.k6)(()=>[(0,r.bF)(s,{label:"Departure Zone:"},{default:(0,r.k6)(()=>[(0,r.bF)(n,{modelValue:d.startPos,"onUpdate:modelValue":a[0]||(a[0]=e=>d.startPos=e),placeholder:"Select Departure Station"},{default:(0,r.k6)(()=>[(0,r.bF)(t,{label:"Beijing Railway Station",value:"1"}),(0,r.bF)(t,{label:"Beijing West Railway Station",value:"2"}),(0,r.bF)(t,{label:"Shanghai Railway Station",value:"3"}),(0,r.bF)(t,{label:"Shanghai Hongqiao Railway Station",value:"4"}),(0,r.bF)(t,{label:"Guangzhou Railway Station",value:"5"}),(0,r.bF)(t,{label:"Guangzhou South Railway Station",value:"6"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,r.bF)(i,{span:6,offset:1},{default:(0,r.k6)(()=>[(0,r.bF)(s,{label:"Arrival Zone:"},{default:(0,r.k6)(()=>[(0,r.bF)(n,{modelValue:d.stopPos,"onUpdate:modelValue":a[1]||(a[1]=e=>d.stopPos=e),placeholder:"Select Arrival Station"},{default:(0,r.k6)(()=>[(0,r.bF)(t,{label:"Beijing Railway Station",value:"1"}),(0,r.bF)(t,{label:"Beijing West Railway Station",value:"2"}),(0,r.bF)(t,{label:"Shanghai Railway Station",value:"3"}),(0,r.bF)(t,{label:"Shanghai Hongqiao Railway Station",value:"4"}),(0,r.bF)(t,{label:"Guangzhou Railway Station",value:"5"}),(0,r.bF)(t,{label:"Guangzhou South Railway Station",value:"6"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,r.bF)(i,{span:6,offset:1},{default:(0,r.k6)(()=>[(0,r.bF)(s,{label:"Departure Date:"},{default:(0,r.k6)(()=>[(0,r.bF)(u,{modelValue:d.date,"onUpdate:modelValue":a[2]||(a[2]=e=>d.date=e),type:"date",placeholder:"Select Departure Date",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,r.bF)(i,{span:3,offset:1},{default:(0,r.k6)(()=>[(0,r.bF)(c,{type:"primary",onClick:g,loading:l.value},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(l.value?"Searching...":"Search"),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})}}};const W=(0,v.A)(K,[["__scopeId","data-v-1d9899b9"]]);var q=W,M={__name:"TicketPageTable",props:{tickets:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(e){const a=async e=>{console.log("Booking ticket:",e);try{const a=await D.bookTicket({userId:1,ticketId:e.ticketId});if(console.log("Booking result:",a),!a)return void u.nk.error("aaaaBooking failed, please try again later.");u.nk.success("Book successful!");const t=JSON.parse(localStorage.getItem("user")).idCard;console.log("User ID Card:",t);const l=JSON.parse(localStorage.getItem("orders"))||{};l[t]=l[t]||[],l[t].unshift({ticketId:e.id,trainNumber:e.trainNumber,startStation:e.startStation,endStation:e.endStation,departureTime:e.departureTime,arrivalTime:e.arrivalTime}),localStorage.setItem("orders",JSON.stringify(l))}catch(a){console.error("Booking failed:",a),u.nk.error("Booking failed, please try again later.")}};return(t,l)=>{const o=(0,r.g2)("el-table-column"),n=(0,r.g2)("el-button"),s=(0,r.g2)("el-table"),i=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.Wv)(i,{class:"table-card"},{header:(0,r.k6)(()=>l[0]||(l[0]=[(0,r.Lk)("span",null,"Ticket Search Results",-1)])),default:(0,r.k6)(()=>[(0,r.bF)(s,{data:e.tickets,loading:e.loading,style:{width:"100%"},"empty-text":"No tickets found"},{default:(0,r.k6)(()=>[(0,r.bF)(o,{prop:"scheduleId",label:"Schedule No.",width:"120"}),(0,r.bF)(o,{prop:"startStation",label:"Start Station",width:"200"}),(0,r.bF)(o,{prop:"endStation",label:"End Station",width:"200"}),(0,r.bF)(o,{prop:"departureTime",label:"Start Time",width:"160"}),(0,r.bF)(o,{prop:"arrivalTime",label:"Arrival Time",width:"160"}),(0,r.bF)(o,{prop:"availableTickets",label:"Remaining",width:"100"}),(0,r.bF)(o,{width:"80"},{default:(0,r.k6)(e=>[(0,r.bF)(n,{type:"primary",size:"small",onClick:t=>a(e.row),disabled:e.row.remainingTickets<=0},{default:(0,r.k6)(()=>l[1]||(l[1]=[(0,r.eW)(" 预订 ")])),_:2,__:[1]},1032,["onClick","disabled"])]),_:1})]),_:1},8,["data","loading"])]),_:1})}}};const H=(0,v.A)(M,[["__scopeId","data-v-3191beff"]]);var L=H,z={__name:"TicketPage",setup(e){const a=(0,i.lq)(),t=(0,n.KR)([]),l=(0,n.KR)(!1),o=e=>{t.value=e,l.value=!1},s=()=>{l.value=!0};return(0,r.sV)(()=>{const e=sessionStorage.getItem("searchResults");if(e)try{const a=JSON.parse(e);t.value=a,sessionStorage.removeItem("searchResults")}catch(n){console.error("解析搜索结果失败:",n)}const{startPos:l,stopPos:r,date:o}=a.query;l&&r&&o&&!e&&console.log("路由参数:",{startPos:l,stopPos:r,date:o})}),(e,a)=>{const n=(0,r.g2)("el-main");return(0,r.uX)(),(0,r.Wv)(n,{class:"main-container"},{default:(0,r.k6)(()=>[(0,r.bF)(q,{onSearchResults:o,onSearchStart:s}),(0,r.bF)(L,{tickets:t.value,loading:l.value},null,8,["tickets","loading"])]),_:1})}}};const x=(0,v.A)(z,[["__scopeId","data-v-53ec2198"]]);var Z=x,j=t(2933);const X={class:"appcontainer"};var Y={__name:"MyPageInfo",setup(e){const a=(0,i.rd)(),t=(0,n.KR)(!1),l=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):d.value,s=async()=>{try{await j.s.confirm("Are you sure you want to log out? You will be redirected to the homepage.","Confirm Logout",{confirmButtonText:"Sure",cancelButtonText:"Cancel",type:"warning"}),t.value=!0,setTimeout(()=>{m(),u.nk.success("Logout successful"),a.push({name:"home"}),t.value=!1},500)}catch(e){"cancel"===e?u.nk.info("Logout cancelled"):(console.error("Logout error:",e),u.nk.error("Logout failed, please try again"),t.value=!1)}};return(0,r.sV)(()=>{d.value||(u.nk.warning("User information not found, please log in again."),a.push({name:"login"}))}),(e,a)=>{const t=(0,r.g2)("el-row"),i=(0,r.g2)("el-col"),u=(0,r.g2)("el-button");return(0,r.uX)(),(0,r.CE)("div",X,[(0,r.bF)(t,{style:{height:"50px"}}),(0,r.bF)(t,{class:"info-row",gutter:"20"},{default:(0,r.k6)(()=>[(0,r.bF)(i,{span:7,class:"info-title"},{default:(0,r.k6)(()=>a[0]||(a[0]=[(0,r.eW)("Name:")])),_:1,__:[0]}),(0,r.bF)(i,{span:16,class:"info-content"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)((0,n.R1)(l).name),1)]),_:1})]),_:1}),(0,r.bF)(t,{class:"info-row",gutter:"20"},{default:(0,r.k6)(()=>[(0,r.bF)(i,{span:7,class:"info-title"},{default:(0,r.k6)(()=>a[1]||(a[1]=[(0,r.eW)("ID No.:")])),_:1,__:[1]}),(0,r.bF)(i,{span:16,class:"info-content"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)((0,n.R1)(l).idCard),1)]),_:1})]),_:1}),(0,r.bF)(t,{class:"info-row",gutter:"20"},{default:(0,r.k6)(()=>[(0,r.bF)(i,{span:7,class:"info-title"},{default:(0,r.k6)(()=>a[2]||(a[2]=[(0,r.eW)("Account Balance:")])),_:1,__:[2]}),(0,r.bF)(i,{span:16,class:"info-content"},{default:(0,r.k6)(()=>a[3]||(a[3]=[(0,r.eW)("999999999")])),_:1,__:[3]})]),_:1}),(0,r.bF)(t,{class:"info-row"},{default:(0,r.k6)(()=>[(0,r.bF)(i,{span:6,offset:5},{default:(0,r.k6)(()=>[(0,r.bF)(u,{type:"primary",onClick:s},{default:(0,r.k6)(()=>a[4]||(a[4]=[(0,r.eW)("Logout")])),_:1,__:[4]})]),_:1})]),_:1})])}}};const G=(0,v.A)(Y,[["__scopeId","data-v-5cc8f190"]]);var $=G;const ee={class:"container"},ae={class:"order-header"},te={class:"order-main"};var le={__name:"MyPagOrder",setup(e){const a=JSON.parse(localStorage.getItem("user")).idCard,t=JSON.parse(localStorage.getItem("orders"))[a],l=(0,n.KR)(t.length);return console.log("idCard: ",a),console.log("Order List:",t),(e,a)=>{const s=(0,r.g2)("el-col"),i=(0,r.g2)("el-row"),u=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.CE)("div",ee,[(0,r.Lk)("div",ae,[(0,r.bF)(i,null,{default:(0,r.k6)(()=>[(0,r.bF)(s,{span:5,class:"order-title"},{default:(0,r.k6)(()=>a[0]||(a[0]=[(0,r.Lk)("div",null,"Start Station",-1)])),_:1,__:[0]}),(0,r.bF)(s,{span:5,class:"order-title"},{default:(0,r.k6)(()=>a[1]||(a[1]=[(0,r.Lk)("div",null,"End Station",-1)])),_:1,__:[1]}),(0,r.bF)(s,{span:5,class:"order-title"},{default:(0,r.k6)(()=>a[2]||(a[2]=[(0,r.Lk)("div",null,"Start Time",-1)])),_:1,__:[2]}),(0,r.bF)(s,{span:5,class:"order-title"},{default:(0,r.k6)(()=>a[3]||(a[3]=[(0,r.Lk)("div",null,"Arrival Time",-1)])),_:1,__:[3]}),(0,r.bF)(s,{span:4,class:"order-title"},{default:(0,r.k6)(()=>a[4]||(a[4]=[(0,r.Lk)("div",null,"Order State",-1)])),_:1,__:[4]})]),_:1})]),(0,r.Lk)("div",te,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,n.R1)(t).slice(0,l.value<20?l.value:20),(e,t)=>((0,r.uX)(),(0,r.Wv)(u,{key:t,class:"order-card"},{default:(0,r.k6)(()=>[(0,r.bF)(i,null,{default:(0,r.k6)(()=>[(0,r.bF)(s,{span:5,class:"order-center"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.startStation),1)]),_:2},1024),(0,r.bF)(s,{span:5,class:"order-center"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.endStation),1)]),_:2},1024),(0,r.bF)(s,{span:5,class:"order-center"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.departureTime),1)]),_:2},1024),(0,r.bF)(s,{span:5,class:"order-center"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.arrivalTime),1)]),_:2},1024),(0,r.bF)(s,{span:4,class:"order-center",style:{color:"red"}},{default:(0,r.k6)(()=>a[5]||(a[5]=[(0,r.eW)("finish")])),_:1,__:[5]})]),_:2},1024)]),_:2},1024))),128))])])}}};const re=(0,v.A)(le,[["__scopeId","data-v-09cf8a39"]]);var oe=re,ne={__name:"MyPage",setup(e){const a=(0,n.KR)("info"),t=(0,n.IJ)($),l={info:$,order:oe},o=e=>{a.value=e,t.value=null,setTimeout(()=>{t.value=l[e]},0)},s=(0,n.KR)();return(0,r.sV)(()=>{s.value?.setActiveNav("my")}),(e,l)=>{const n=(0,r.g2)("el-menu-item"),s=(0,r.g2)("el-menu"),i=(0,r.g2)("el-main");return(0,r.uX)(),(0,r.Wv)(i,{class:"main-container"},{default:(0,r.k6)(()=>[(0,r.bF)(s,{"default-active":a.value,class:"menu",onSelect:o},{default:(0,r.k6)(()=>[(0,r.bF)(n,{index:"info"},{default:(0,r.k6)(()=>l[0]||(l[0]=[(0,r.Lk)("span",{style:{"font-size":"16px"}},"My Information",-1)])),_:1,__:[0]}),(0,r.bF)(n,{index:"order"},{default:(0,r.k6)(()=>l[1]||(l[1]=[(0,r.Lk)("span",{style:{"font-size":"16px"}},"My Orders",-1)])),_:1,__:[1]})]),_:1},8,["default-active"]),((0,r.uX)(),(0,r.Wv)((0,r.$y)(t.value),{key:a.value}))]),_:1})}}};const se=(0,v.A)(ne,[["__scopeId","data-v-115d18de"]]);var ie=se,ue={__name:"LoginPageLogin",setup(e){const a=(0,i.rd)(),t=(0,n.KR)(!1),l=(0,n.KR)(),o=(0,n.Kh)({idCard:"",name:"",password:""}),s={idCard:[{required:!0,message:"Please enter your ID card number",trigger:"blur"}],name:[{required:!0,message:"Please enter your name",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}]},d=()=>{l.value.validate(e=>{e?c():u.nk.error("Please fill in all fields.")})},c=async()=>{if(o.idCard.trim()&&o.name.trim()&&o.password.trim()){t.value=!0;try{const e={idCard:o.idCard.trim(),name:o.name.trim(),password:o.password.trim()},t=`token_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,l=p(e,t);l&&(u.nk.success("Login successful"),a.push({name:"my"}))}catch(e){console.error("Login error:",e),u.nk.error("Login failed.")}finally{t.value=!1}}else u.nk.error("Please fill in all fields.")};return(e,a)=>{const n=(0,r.g2)("el-input"),i=(0,r.g2)("el-form-item"),u=(0,r.g2)("el-button"),c=(0,r.g2)("el-form");return(0,r.uX)(),(0,r.Wv)(c,{class:"form",model:o,ref_key:"loginFormRef",ref:l,rules:s},{default:(0,r.k6)(()=>[(0,r.bF)(i,{label:"ID No.:",prop:"idCard"},{default:(0,r.k6)(()=>[(0,r.bF)(n,{modelValue:o.idCard,"onUpdate:modelValue":a[0]||(a[0]=e=>o.idCard=e)},null,8,["modelValue"])]),_:1}),(0,r.bF)(i,{label:"Name:",prop:"name"},{default:(0,r.k6)(()=>[(0,r.bF)(n,{modelValue:o.name,"onUpdate:modelValue":a[1]||(a[1]=e=>o.name=e)},null,8,["modelValue"])]),_:1}),(0,r.bF)(i,{label:"Password:",prop:"password"},{default:(0,r.k6)(()=>[(0,r.bF)(n,{type:"password",modelValue:o.password,"onUpdate:modelValue":a[2]||(a[2]=e=>o.password=e)},null,8,["modelValue"])]),_:1}),(0,r.bF)(i,null,{default:(0,r.k6)(()=>[(0,r.bF)(u,{type:"primary",onClick:d,loading:t.value},{default:(0,r.k6)(()=>a[3]||(a[3]=[(0,r.eW)("Login")])),_:1,__:[3]},8,["loading"])]),_:1})]),_:1},8,["model"])}}};const de=(0,v.A)(ue,[["__scopeId","data-v-2ed3e8e0"]]);var ce=de,ge={__name:"LoginPageRegister",setup(e){const a=(0,i.rd)(),t=(0,n.KR)(!1),l=(0,n.KR)(),o=(0,n.Kh)({idCard:"",name:"",password:""}),s=(e,a,t)=>{a?/^\d{10}$/.test(a)?t():t(new Error("ID card number must be exactly 10 digits")):t(new Error("Please enter your ID card number"))},d=(e,a,t)=>{a?a.length<6||a.length>20?t(new Error("Password length must be between 6 and 20 characters")):/^[a-zA-Z0-9]+$/.test(a)?/[a-zA-Z]/.test(a)&&/[0-9]/.test(a)?t():t(new Error("Password must contain both letters and numbers")):t(new Error("Password can only contain letters and numbers")):t(new Error("Please enter your password"))},c={idCard:[{validator:s,trigger:"blur"}],name:[{required:!0,message:"Please enter your name",trigger:"blur"},{min:2,max:10,message:"Name length must be between 2 and 10 characters",trigger:"blur"}],password:[{validator:d,trigger:"blur"}]},g=()=>{l.value.validate(e=>{e?p():u.nk.error("Please fill in all fields correctly.")})},p=async()=>{t.value=!0;try{const e={idCard:o.idCard.trim(),name:o.name.trim(),password:o.password.trim()},t=k(e);if(t){u.nk.success("Registration successful"),o.idCard="",o.name="",o.password="",l.value.resetFields();const t=JSON.parse(localStorage.getItem("userList"))||[];t.push(e),localStorage.setItem("userList",JSON.stringify(t));const r=JSON.parse(localStorage.getItem("orders"))||{};r[e.idCard]=[],localStorage.setItem("orders",JSON.stringify(r)),a.push({name:"login"})}}catch(e){console.error("Register error:",e),u.nk.error("Registration failed.")}finally{t.value=!1}};return(e,a)=>{const n=(0,r.g2)("el-input"),s=(0,r.g2)("el-form-item"),i=(0,r.g2)("el-button"),u=(0,r.g2)("el-form");return(0,r.uX)(),(0,r.Wv)(u,{class:"form",model:o,ref_key:"registerFormRef",ref:l,rules:c},{default:(0,r.k6)(()=>[(0,r.bF)(s,{label:"ID No.:",prop:"idCard"},{default:(0,r.k6)(()=>[(0,r.bF)(n,{modelValue:o.idCard,"onUpdate:modelValue":a[0]||(a[0]=e=>o.idCard=e),placeholder:"Enter 10-digit ID number"},null,8,["modelValue"])]),_:1}),(0,r.bF)(s,{label:"Name:",prop:"name"},{default:(0,r.k6)(()=>[(0,r.bF)(n,{modelValue:o.name,"onUpdate:modelValue":a[1]||(a[1]=e=>o.name=e),placeholder:"Enter your name"},null,8,["modelValue"])]),_:1}),(0,r.bF)(s,{label:"Password:",prop:"password"},{default:(0,r.k6)(()=>[(0,r.bF)(n,{type:"password",modelValue:o.password,"onUpdate:modelValue":a[2]||(a[2]=e=>o.password=e),placeholder:"Enter password (letters and numbers only)"},null,8,["modelValue"])]),_:1}),(0,r.bF)(s,null,{default:(0,r.k6)(()=>[(0,r.bF)(i,{type:"primary",onClick:g,loading:t.value},{default:(0,r.k6)(()=>a[3]||(a[3]=[(0,r.eW)("Register")])),_:1,__:[3]},8,["loading"])]),_:1})]),_:1},8,["model"])}}};const pe=(0,v.A)(ge,[["__scopeId","data-v-492ac220"]]);var me=pe;const ke={class:"card"};var fe={__name:"LoginPage",setup(e){const a=(0,n.KR)();(0,r.sV)(()=>{a.value?.setActiveNav("my")});const t=(0,n.KR)("login"),l=(0,n.IJ)(ce),o={login:ce,register:me},s=e=>{t.value=e,l.value=null,setTimeout(()=>{l.value=o[e]},0)};return(e,a)=>{const o=(0,r.g2)("el-menu-item"),n=(0,r.g2)("el-menu"),i=(0,r.g2)("el-main");return(0,r.uX)(),(0,r.Wv)(i,{class:"main-container"},{default:(0,r.k6)(()=>[(0,r.Lk)("div",ke,[(0,r.bF)(n,{"default-active":t.value,class:"menu",mode:"horizontal",onSelect:s,ellipsis:"false"},{default:(0,r.k6)(()=>[(0,r.bF)(o,{index:"login",class:"menu-item"},{default:(0,r.k6)(()=>a[0]||(a[0]=[(0,r.eW)("Login")])),_:1,__:[0]}),(0,r.bF)(o,{index:"register",class:"menu-item"},{default:(0,r.k6)(()=>a[1]||(a[1]=[(0,r.eW)("Register")])),_:1,__:[1]})]),_:1},8,["default-active"]),((0,r.uX)(),(0,r.Wv)((0,r.$y)(l.value),{key:t.value}))])]),_:1})}}};const be=(0,v.A)(fe,[["__scopeId","data-v-02cb024a"]]);var ve=be;const he=[{path:"/",name:"home",component:B},{path:"/ticket",name:"ticket",component:Z},{path:"/my",name:"my",component:ie,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:ve}],Se=(0,i.aE)({history:(0,i.Bt)(),routes:he});var Ie=Se;g();const ye=(0,l.Ef)(F);for(const[Fe,Re]of Object.entries(w))ye.component(Fe,Re);g(),ye.use(R.A).use(Ie).mount("#app")}},a={};function t(l){var r=a[l];if(void 0!==r)return r.exports;var o=a[l]={exports:{}};return e[l].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(a,l,r,o){if(!l){var n=1/0;for(d=0;d<e.length;d++){l=e[d][0],r=e[d][1],o=e[d][2];for(var s=!0,i=0;i<l.length;i++)(!1&o||n>=o)&&Object.keys(t.O).every(function(e){return t.O[e](l[i])})?l.splice(i--,1):(s=!1,o<n&&(n=o));if(s){e.splice(d--,1);var u=r();void 0!==u&&(a=u)}}return a}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[l,r,o]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var r,o,n=l[0],s=l[1],i=l[2],u=0;if(n.some(function(a){return 0!==e[a]})){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(i)var d=i(t)}for(a&&a(l);u<n.length;u++)o=n[u],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},l=self["webpackChunkvue_lab"]=self["webpackChunkvue_lab"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],function(){return t(9116)});l=t.O(l)})();
//# sourceMappingURL=app.997a73cb.js.map